# MetaMask-UserSystem
## 基于以太坊账户的MetaMask无密码用户系统

## 项目思路
首先我们先思考一下login，用户的登录行为就是为了证明账号的所有权，传统服务端对 用户名=>密码 的校验流程在去中心化应用中就显得有些不那么去中心化，那么有没有更适合Dapp的用户系统呢？

coder受结城浩《图解密码技术》和以太坊账户系统的启发，突发奇想，便有了这个Demo，大致特点如下

    方便(无需密码参与)
    校验(椭圆曲线+单向散列函数)
    针对性(Dapp用户)

首先我们了解一下MetaMask这款浏览器钱包插件

对普通用户来讲，它是一个很好用的以太坊钱包，可以帮我们管理以太坊账户，访问以太坊网络进行转账等等

但是对于开发者来说，它本质上就是一个基于web3的，集成了相关JavaScript库的以太坊节点。而且作为浏览器扩展，它可以很方便的与当前网页进行交互。所以它也集成了大部分以太坊对外提供的操作接口，比如账户管理，签名等...

账户就不用讲了，我们先来看看签名过程

在装有MetaMask的浏览器中登录账户后，Console界面中输入
![](pic/1.png)

    //第一个参数为待签名的内容
    //第二个参数为签名者的以太坊账户地址(需要与MetaMask当前登录账户对应)
    //第三个参数为回调函数
    web3.personal.sign(web3.fromUtf8("123"), web3.eth.coinbase, console.log);

敲下回车我们可以看到弹出窗口
![](pic/2.png)

MetaMask此时需要钱包持有者来确认这次请求，Message中显示的就是待签内容，我们确认签名后，在console得到数据
![](pic/3.png)
